{% extends "sudoku/base.html" %}
{% load i18n %}
{% load static %}

{% block title %}Sudoku Creator{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'sudoku/css/creator_grid.css' %}">
<link rel="stylesheet" href="{% static 'sudoku/css/board.css' %}">
<link rel="stylesheet" href="{% static 'sudoku/css/rulemanager.css' %}">
<link rel="stylesheet" href="{% static 'sudoku/css/creator_tabCreate.css' %}">
<link rel="stylesheet" href="{% static 'sudoku/css/creator_tabAnalyse.css' %}">
<link rel="stylesheet" href="{% static 'sudoku/css/creator_tabSubmit.css' %}">
<link rel="stylesheet" href="{% static 'sudoku/css/badges.css' %}">
{% endblock %}

{% block container %}
<div class="fullwindow">
	<div class="grid-container">
		<div class="board-pane my_board_style">
			<div class="board-container"></div>
		</div>
		<div class="input-pane myNavCreatorStyle">
			<nav>
				<div class="nav nav-tabs nav-justified" id="nav-tab" role="tablist">
					<button class="nav-link" id="nav-numbers-tab" data-bs-toggle="tab" data-bs-target="#nav-numbers"
							type="button" role="tab" aria-controls="nav-numbers" aria-selected="true">
						{% trans "Numbers" %}
					</button>
					<button class="nav-link active" id="nav-Create-tab" data-bs-toggle="tab" data-bs-target="#nav-Create"
							type="button" role="tab" aria-controls="nav-Create" aria-selected="true">
						{% trans "Rules" %}
					</button>
					<button class="nav-link" id="nav-Analyse-tab" data-bs-toggle="tab" data-bs-target="#nav-Analyse"
							type="button" role="tab" aria-controls="nav-Analyse" aria-selected="false">
						<span class="d-inline-flex align-items-center justify-content-center gap-2">
							{% trans "Analysis" %}
							<span class="badge bg-warning text-dark" style="font-size: 0.75em;">Beta</span>
						</span>
					</button>
					<button class="nav-link" id="nav-Publish-tab" data-bs-toggle="tab" data-bs-target="#nav-Publish"
							type="button" role="tab" aria-controls="nav-Publish" aria-selected="false">
						{% trans "Publish" %}
					</button>
				</div>
			</nav>

			<div id="nav-tabContent" class="tab-content p-3">
				{% include "sudoku/creator/creator_tab_create.html" %}
				{% include "sudoku/creator/creator_tab_numbers.html" %}
				{% include "sudoku/creator/creator_tab_analyse.html" %}
				{% include "sudoku/creator/creator_tab_submit.html" %}
			</div>
		</div>
	</div>
</div>
{% endblock %}

{% block extra_scripts %}
<script type="module" src="{% static 'sudoku/js/creator/creator_ui.js' %}"></script>
<script>
	document.querySelectorAll('.dropdown-menu.keep-open').forEach(menu => {
		menu.addEventListener('click', function (e) {
			e.stopPropagation(); // Prevent dropdown from closing when clicking inside
		});
	});
</script>
{% endblock %}
